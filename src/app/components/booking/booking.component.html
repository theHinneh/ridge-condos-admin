<!-- @format -->

<app-navbar></app-navbar>
<div class="wrapper " id="body-fix">
  <div class="sidebar" data-color="white" data-background-color="white">
    <app-sidenav></app-sidenav>
  </div>
  <div class="main-panel">
    <div class="container-fluid" id="top-nav">
      <p class="navbar-brand" id="page-header">{{ title }}</p>
      <button
        class="btn btn-success"
        id="addRoom-button"
        (click)="showForm = !showForm"
      >
        Add Reservation
      </button>
    </div>

    <!-- form -->
    <div class="container" *ngIf="showForm">
      <div class="card">
        <form (ngSubmit)="createReservation()" style="padding: 1em;">
          <div class="row">
            <div class="form-group col">
              <input
                [(ngModel)]="bookingForm.name"
                name="name"
                type="text"
                class="form-control"
                placeholder="Name"
              />
            </div>

            <div class="form-group col">
              <input
                [(ngModel)]="bookingForm.adult"
                name="adult"
                type="number"
                class="form-control"
                placeholder="Adult"
              />
            </div>

            <div class="form-group col">
              <input
                [(ngModel)]="bookingForm.children"
                name="name"
                type="children"
                class="form-control"
                placeholder="Children"
              />
            </div>
          </div>

          <div class="row">
            <div class="form-group col">
              <input
                [(ngModel)]="bookingForm.roomNumber"
                name="roomNumber"
                type="datetime"
                class="form-control"
                placeholder="Room Number"
              />
            </div>

            <div class="form-group col">
              <input
                [(ngModel)]="reservationDate"
                name="reservationDate"
                type="datetime"
                class="form-control"
                placeholder="Reservation Date"
                ngbDatepicker
                #r="ngbDatepicker"
                (click)="r.toggle()"
              />
            </div>

            <div class="form-group col">
              <input
                [(ngModel)]="exitDate"
                name="exitDate"
                type="datetime"
                class="form-control"
                placeholder="Exit Date"
                ngbDatepicker
                #exit="ngbDatepicker"
                (click)="exit.toggle()"
              />
            </div>
          </div>
          <div
            class="spinner-border"
            role="status"
            style="float: right !important;"
            *ngIf="loading"
          >
            <span class="sr-only">Loading...</span>
          </div>
          <button
            *ngIf="!loading"
            type="submit"
            class="btn btn-primary"
            style="float: right !important;"
          >
            Submit
          </button>
        </form>
        <h3 [style.color]="toastColor">
          {{ toastMessage }}
        </h3>
      </div>
    </div>

    <!-- ListView  -->
    <div class="card">
      <div class="card-body table-responsive">
        <table class="table table-hover">
          <thead class="" class="text">
            <th>Name</th>
            <th>Adult</th>
            <th>Children</th>
            <th>Room No.</th>
            <th>Reservation Date</th>
            <th>Exit Date</th>
            <th></th>
          </thead>
          <tbody>
            <tr class="card-header card-header">
              <td>Kofi Mensah</td>
              <td>4</td>
              <td>02/12/2020</td>
              <td>12/12/2020</td>
              <td>Rm 234</td>
              <td>Pending</td>
              <td>
                <ul>
                  <li class="nav-item dropdown">
                    <a
                      class="nav-link"
                      href=""
                      id="moreDropdownMenuLink"
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                    >
                      <img src="/assets/img/more.png" height="14" width="14" />
                    </a>
                    <div
                      class="dropdown-menu dropdown-menu-right"
                      aria-labelledby="moreDropdownMenuLink"
                    >
                      <a class="dropdown-item" href="#">Edit</a>
                      <a class="dropdown-item" href="#">Delete</a>
                    </div>
                  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
